<!DOCTYPE html>
<html  dir="ltr" lang="en" data-theme=""><head>
    <title> Mattia de Filippo | How to install OracleDB on AWS instance running Oracle Linux 7? </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.82.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="Sample article showcasing basic Markdown syntax and formatting for HTML elements.">
    
    
    
    
    <link rel="stylesheet"
        href="/css/main.min.bc9c6feb1dc21ca10380089a3cf98f7f0c9229eea1c73bacf720f371960f4d4c.css"
        integrity="sha256-vJxv6x3CHKEDgAiaPPmPfwySKe6hxzus9yDzcZYPTUw="
        crossorigin="anonymous"
        type="text/css">
    
    
    <link rel="stylesheet"
        href="/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css"
        integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS&#43;yuWSR4="
        crossorigin="anonymous"
        type="text/css">
    
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" 
    integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" 
    crossorigin="anonymous" />

    
    <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">

    <link rel="canonical" href="/post/oracledb-on-aws-instance/">

    
    
    
    
    <script type="text/javascript"
            src="/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js"
            integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ="
            crossorigin="anonymous"></script>


    
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://defilippomattia.github.io/images/site-feature-image.png"/>

<meta name="twitter:title" content="How to install OracleDB on AWS instance running Oracle Linux 7?"/>
<meta name="twitter:description" content="Sample article showcasing basic Markdown syntax and formatting for HTML elements."/>


    

</head>
<body><div class="sidebar . ">
    <div class="logo-title">
        <div class="title">
            <img src="/images/profile.jpg" alt="profile picture">
            <h3 title=""><a href="/">Mattia de Filippo</a></h3>
            <div class="description">
                <p>I should write something here.</p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://github.com/lxndrblz/anatole/" rel="me" aria-label="GitHub">
                    <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://de.linkedin.com/" rel="me" aria-label="Linkedin">
                    <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
        <p></p>
        <a href="//defilippomattia.github.io/cv.pdf" style="font-size: 18px; margin-right: 8px;" target="_blank">My CV</a>
    </ul>
    
    <div class="footer">
        <div class="by_farbox">&copy; Mattia de Filippo  2021 </div>
    </div>
</div>
<div class="main">
    <div class="page-top  . ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/"
                        
                   title="">posts</a></li>
        
            
            <li><a 
                   href="/about/"
                        
                   title="">about</a></li>
        
        
        
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post  . ">
        <div class="post-content">
            
            <div class="post-title">
                <h3>How to install OracleDB on AWS instance running Oracle Linux 7?</h3>
                
                    <div class="info">
                        <em class="fas fa-calendar-day"></em>
                        <span class="date"> 
                                                11/3/2019
                                           </span>
                        <em class="fas fa-stopwatch"></em>
                        <span class="reading-time">2-minute read</span>
                    </div>
                
            </div>

            <p>In this tutorial you will find how to install OracleDB on a AWS instance running Oracle Linux 7 (OL7).</p>
<h4 id="steps">Steps</h4>
<ol>
<li>Launch an OL7 instnace.</li>
<li>SSH into it and intsall OracleDB.</li>
</ol>
<h4 id="launching-ol7-instnace">Launching OL7 instnace</h4>
<ol>
<li>
<p>On your EC2 Console, click on AMIs on the left.</p>
</li>
<li>
<p>In the search bar type: ami-0b2de5a6693c0051e (this is a OL7.5 image)*</p>
</li>
<li>
<p>Launch an instance with the image above (use t2.medium with a EBS storage of 40gb)</p>
</li>
</ol>
<p>*Note: This is a Community AMI, always check the source of the image: <a href="https://community.oracle.com/tech/apps-infra/discussion/4417739/launch-an-oracle-linux-instance-in-aws">https://community.oracle.com/tech/apps-infra/discussion/4417739/launch-an-oracle-linux-instance-in-aws</a></p>
<h4 id="installing-oracledb">Installing OracleDB</h4>
<ol>
<li>
<p>SSH into the instance.</p>
</li>
<li>
<p>Switch from ec2-user to root:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">sudo su -
</code></pre></div></li>
<li>
<p>Append a new entry in /etc/hosts file with the newly created instnace adresses:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;IP-address&gt;  &lt;fully-qualified-machine-name&gt;  &lt;machine-name&gt;
</code></pre></div></li>
<li>
<p>Install oracle-database-preinstall-19c package:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">yum install -y oracle-database-preinstall-19c
</code></pre></div></li>
<li>
<p>Set oracle user password:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">passwd oracle
</code></pre></div></li>
<li>
<p>Create these directories and set ownership:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback"> mkdir -p /u01/app/oracle/product/19.0.0/dbhome_1
 mkdir -p /u02/oradata
 chown -R oracle:oinstall /u01 /u02
 chmod -R 775 /u01 /u02
</code></pre></div></li>
<li>
<p>Create scripts directory:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback"> mkdir /home/oracle/scripts
</code></pre></div></li>
<li>
<p>Create setEnv.sh script and execute it:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback"> #!/bin/bash
 export TMP=/tmp
 export TMPDIR=$TMP

 export ORACLE_HOSTNAME=&lt;INSERT YOUR HOSTNAME HERE&gt;
 export ORACLE_UNQNAME=cdb1
 export ORACLE_BASE=/u01/app/oracle
 export ORACLE_HOME=$ORACLE_BASE/product/19.0.0/dbhome_1
 export ORA_INVENTORY=/u01/app/oraInventory
 export ORACLE_SID=cdb1
 export PDB_NAME=pdb1
 export DATA_DIR=/u02/oradata

 export PATH=/usr/sbin:/usr/local/bin:$PATH
 export PATH=$ORACLE_HOME/bin:$PATH

 export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib
 export CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib
</code></pre></div></li>
<li>
<p>Switch to oracle user and perform these commands:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback"> cd $ORACLE_HOME
 unzip -oq /path/to/software/LINUX.X64_193000_db_home.zip

 ./runInstaller -ignorePrereq -waitforcompletion -silent                    \
 -responseFile ${ORACLE_HOME}/install/response/db_install.rsp               \
 oracle.install.option=INSTALL_DB_SWONLY                                    \
 ORACLE_HOSTNAME=${ORACLE_HOSTNAME}                                         \
 UNIX_GROUP_NAME=oinstall                                                   \
 INVENTORY_LOCATION=${ORA_INVENTORY}                                        \
 SELECTED_LANGUAGES=en,en_GB                                                \
 ORACLE_HOME=${ORACLE_HOME}                                                 \
 ORACLE_BASE=${ORACLE_BASE}                                                 \
 oracle.install.db.InstallEdition=EE                                        \
 oracle.install.db.OSDBA_GROUP=dba                                          \
 oracle.install.db.OSBACKUPDBA_GROUP=dba                                    \
 oracle.install.db.OSDGDBA_GROUP=dba                                        \
 oracle.install.db.OSKMDBA_GROUP=dba                                        \
 oracle.install.db.OSRACDBA_GROUP=dba                                       \
 SECURITY_UPDATES_VIA_MYORACLESUPPORT=false                                 \
 DECLINE_SECURITY_UPDATES=true
</code></pre></div></li>
<li>
<p>Switch to root and execute:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">/u01/app/oraInventory/orainstRoot.sh
/u01/app/oracle/product/19.0.0/dbhome_1/root.sh
</code></pre></div></li>
<li>
<p>Create the database:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">lsnrctl start

dbca -silent -createDatabase                                               \
 -templateName General_Purpose.dbc                                         \
 -gdbname ${ORACLE_SID} -sid  ${ORACLE_SID} -responseFile NO_VALUE         \
 -characterSet AL32UTF8                                                    \
 -sysPassword SysPassword1                                                 \
 -systemPassword SysPassword1                                              \
 -createAsContainerDatabase true                                           \
 -numberOfPDBs 1                                                           \
 -pdbName ${PDB_NAME}                                                      \
 -pdbAdminPassword PdbPassword1                                            \
 -databaseType MULTIPURPOSE                                                \
 -memoryMgmtType auto_sga                                                  \
 -totalMemory 2000                                                         \
 -storageType FS                                                           \
 -datafileDestination &#34;${DATA_DIR}&#34;                                        \
 -redoLogFileSize 50                                                       \
 -emConfiguration NONE                                                     \
 -ignorePreReqs

</code></pre></div></li>
</ol>
<h4 id="resources">Resources</h4>
<p>Tutoiral based on:</p>
<p><a href="https://oracle-base.com/articles/19c/oracle-db-19c-installation-on-oracle-linux-7">https://oracle-base.com/articles/19c/oracle-db-19c-installation-on-oracle-linux-7</a>
<a href="https://community.oracle.com/tech/apps-infra/discussion/4417739/launch-an-oracle-linux-instance-in-aws">https://community.oracle.com/tech/apps-infra/discussion/4417739/launch-an-oracle-linux-instance-in-aws</a></p></div>
        <div class="post-footer">
            <div class="info">
                
                <span class="separator"><a class="tag" href="/tags/aws/">aws</a><a class="tag" href="/tags/oracle/">oracle</a><a class="tag" href="/tags/linux/">linux</a><a class="tag" href="/tags/oracledb/">oracledb</a></span>
            </div>
        </div>

        
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="/js/medium-zoom.min.83cb1dd5fea8d42d87d1e601a07faa73089ad0ef9ccfe5daf6041289ebcc4e46.js"
        integrity="sha256-g8sd1f6o1C2H0eYBoH&#43;qcwia0O&#43;cz&#43;Xa9gQSievMTkY="
        crossorigin="anonymous"></script></body>

</html>
